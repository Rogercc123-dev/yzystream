<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YZYSTREAM - Streamers</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .streamer-block {
            margin-bottom: 20px;
        }
        .streamer-iframe {
            border-radius: 24px;
            width: 100%;
            aspect-ratio: 16 / 9;
        }
        .offline-message {
            color: #888;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="content-wrapper">
        <h1>YZYSTREAM</h1>
        <p>Find where YZY streamers are live instantly, hosted on multiple platforms.</p>

        <hr class="separator">

        <section id="streamers" aria-labelledby="streamers-heading">
            <h2 id="streamers-heading">YZY STREAMING</h2>
            <hr class="separator">

            <div class="nas-projects-block streamer-block" id="digitalnas">
                <h3>DigitalNas</h3>
                <div id="digitalnas-stream"></div>
            </div>

            <div class="nas-projects-block streamer-block" id="regiwock">
                <h3>RegiWock</h3>
                <div id="regiwock-stream"></div>
            </div>

            <div class="nas-projects-block streamer-block" id="auger96">
                <h3>Auger96</h3>
                <div id="auger96-stream"></div>
            </div>
        </section>

        <div class="back-to-home text-center">
            <a href="index.html" class="link-gradient">← Back to Home</a>
        </div>
    </div>

    <footer class="footer text-center mt-8">
        <p>© 2025 | yzystream.com</p>
        <nav aria-label="Footer navigation">
            <a href="index.html">Home</a> | <a href="faq.html">FAQ</a> | <a href="privacy.html">Privacy Policy</a>
        </nav>
    </footer>

    <script>
        // Replace with your Twitch Client ID and Access Token
        const CLIENT_ID = 'YOUR_TWITCH_CLIENT_ID';
        const ACCESS_TOKEN = 'YOUR_TWITCH_ACCESS_TOKEN';

        // Streamer usernames (lowercase for Twitch API)
        const streamers = [
            { name: 'DigitalNas', id: 'digitalnas-stream' },
            { name: 'RegiWock', id: 'regiwock-stream' },
            { name: 'Auger96', id: 'auger96-stream' }
        ];

        // Function to check stream status and embed stream
        async function checkStreamStatus() {
            for (const streamer of streamers) {
                try {
                    const response = await fetch(`https://api.twitch.tv/helix/streams?user_login=${streamer.name.toLowerCase()}`, {
                        headers: {
                            'Client-ID': CLIENT_ID,
                            'Authorization': `Bearer ${ACCESS_TOKEN}`
                        }
                    });
                    const data = await response.json();
                    const streamContainer = document.getElementById(streamer.id);

                    if (data.data && data.data.length > 0) {
                        // Streamer is live
                        const iframe = document.createElement('iframe');
                        iframe.src = `https://player.twitch.tv/?channel=${streamer.name}&parent=${window.location.hostname}`;
                        iframe.className = 'streamer-iframe';
                        iframe.allowFullscreen = true;
                        iframe.allow = 'picture-in-picture';
                        iframe.frameBorder = '0';
                        iframe.loading = 'lazy';
                        streamContainer.appendChild(iframe);
                    } else {
                        // Streamer is offline
                        streamContainer.innerHTML = `<p class="offline-message">${streamer.name} is currently offline.</p>`;
                    }
                } catch (error) {
                    console.error(`Error fetching stream status for ${streamer.name}:`, error);
                    document.getElementById(streamer.id).innerHTML = `<p class="offline-message">Error loading stream status for ${streamer.name}.</p>`;
                }
            }
        }

        // Run the check when the page loads
        document.addEventListener('DOMContentLoaded', checkStreamStatus);
    </script>
